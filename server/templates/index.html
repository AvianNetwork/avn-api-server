<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://volbil.com/cdn/business-tycoon/business-tycoon.min.css">
		<link rel="stylesheet" href="https://volbil.com/cdn/entypo/entypo.css">
		<link href="/static/favicon.ico" rel="icon" type="image/x-icon">
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>

		<link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap" rel="stylesheet">

		<style>
			html {
				height: 100%;
			}
			html, body {
				min-height: 100%;
			}
			body {
				font-family: 'Source Sans Pro', sans-serif;
				padding-top: 75px;
				padding-bottom: 56px;
				position: relative;
			}
			#logo {
				max-width: 30px;
				max-height: 30px;
				margin-top: -5px;
				margin-right: 5px;
			}
			#supply {
				cursor: pointer;
			}
			#qrCode canvas{
				max-width: 100%;
			}
			.router-page {
				display: none;
			}
			.flex-center {
				display: flex;
				align-items: center;
				justify-content: center;
			}
			[class*="entypo"]:before {
				font-family: 'EntypoRegular', sans-serif;
				font-size: 16px;
			}
			@media (max-width: 991.98px) {
				.navbar-expand-lg>.container, .navbar-expand-lg>.container-fluid {
					padding-right: 15px;
					padding-left: 15px;
				}
			}
			code {
				background: #3f3f3f;
				color: #ffffff;
				padding: 3px;
				border-radius: 5px;
			}
			.modal-dialog {
				max-width: 530px;
			}

			#json-input {
				display: block;
				width: 100%;
				height: 200px;
			}
			#translate {
				display: block;
				height: 28px;
				margin: 20px 0;
				border-radius: 3px;
				border: 2px solid;
				cursor: pointer;
			}
			.json-display {
				border: 1px solid #000;
				margin: 0;
				padding: 10px 20px;
			}
		</style>
		<title>API Documentation</title>
		<meta name="description" content="Avian API Documentation">

		<script>
			!function(){var e='/* Syntax highlighting for JSON objects */ .json-editor-blackbord {   background: #202020;   color: #fff;   font-size: 13px;   font-family: Menlo,Monaco,Consolas,"Courier New",monospace; } @media screen and (min-width: 1600px) {   .json-editor-blackbord {	 font-size: 14px;   } }  ul.json-dict, ol.json-array {   list-style-type: none;   margin: 0 0 0 1px;   border-left: 1px dotted #525252;   padding-left: 2em; } .json-string {   /*color: #0B7500;*/   /*color: #BCCB86;*/   color: #0ad161; } .json-literal {   /*color: #1A01CC;*/   /*font-weight: bold;*/   color: #ff8c00; } .json-url {   color: #1e90ff; } .json-property {   color: #4fdee5;   line-height: 160%;   font-weight: 500; }  /* Toggle button */ a.json-toggle {   position: relative;   color: inherit;   text-decoration: none;   cursor: pointer; } a.json-toggle:focus {   outline: none; } a.json-toggle:before {   color: #aaa;   content: "\\25BC"; /* down arrow */   position: absolute;   display: inline-block;   width: 1em;   left: -1em; } a.json-toggle.collapsed:before {   transform: rotate(-90deg); /* Use rotated down arrow, prevents right arrow appearing smaller than down arrow in some browsers */   -ms-transform: rotate(-90deg);   -webkit-transform: rotate(-90deg); }   /* Collapsable placeholder links */ a.json-placeholder {   color: #aaa;   padding: 0 1em;   text-decoration: none;   cursor: pointer; } a.json-placeholder:hover {   text-decoration: underline; }',o=function(e){var o=document.getElementsByTagName("head")[0],t=document.createElement("style");if(o.appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch(n){t.innerText=e}};o(e)}(),function(e){function o(e){return e instanceof Object&&Object.keys(e).length>0}function t(e){var o=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return o.test(e)}function n(e,r){var s="";if("string"==typeof e)e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),s+=t(e)?'<a href="'+e+'" class="json-string json-url">"'+e+'"</a>':'<span class="json-string">"'+e+'"</span>';else if("number"==typeof e)s+='<span class="json-literal json-literal-number">'+e+"</span>";else if("boolean"==typeof e)s+='<span class="json-literal json-literal-boolean">'+e+"</span>";else if(null===e)s+='<span class="json-literal json-literal-null">null</span>';else if(e instanceof Array)if(e.length>0){s+='[<ol class="json-array">';for(var l=0;l<e.length;++l)s+="<li>",o(e[l])&&(s+='<a href class="json-toggle"></a>'),s+=n(e[l],r),l<e.length-1&&(s+=","),s+="</li>";s+="</ol>]"}else s+="[]";else if("object"==typeof e){var a=Object.keys(e).length;if(a>0){s+='{<ul class="json-dict">';for(var i in e)if(e.hasOwnProperty(i)){s+="<li>";var c=r.withQuotes?'<span class="json-string json-property">"'+i+'"</span>':'<span class="json-property">'+i+"</span>";s+=o(e[i])?'<a href class="json-toggle"></a>'+c:c,s+=": "+n(e[i],r),--a>0&&(s+=","),s+="</li>"}s+="</ul>}"}else s+="{}"}return s}e.fn.jsonViewer=function(t,r){return r=r||{},this.each(function(){var s=n(t,r);o(t)&&(s='<a href class="json-toggle"></a>'+s),e(this).html(s),e(this).off("click"),e(this).on("click","a.json-toggle",function(){var o=e(this).toggleClass("collapsed").siblings("ul.json-dict, ol.json-array");if(o.toggle(),o.is(":visible"))o.siblings(".json-placeholder").remove();else{var t=o.children("li").length,n=t+(t>1?" items":" item");o.after('<a href class="json-placeholder">'+n+"</a>")}return!1}),e(this).on("click","a.json-placeholder",function(){return e(this).siblings("a.json-toggle").click(),!1}),1==r.collapsed&&e(this).find("a.json-toggle").click()})}}(jQuery),function(e){function o(e){var o={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};return e.replace(/["\\\b\f\n\r\t]/g,function(e){return o[e]})}function t(e){if("string"==typeof e)return o(e);if("object"==typeof e)for(var n in e)e[n]=t(e[n]);else if(Array.isArray(e))for(var r=0;r<e.length;r++)e[r]=t(e[r]);return e}function n(o,t,n){n=n||{},n.editable!==!1&&(n.editable=!0),this.$container=e(o),this.options=n,this.load(t)}n.prototype={constructor:n,load:function(e){this.$container.jsonViewer(t(e),{collapsed:this.options.defaultCollapsed,withQuotes:!0}).addClass("json-editor-blackbord").attr("contenteditable",!!this.options.editable)},get:function(){try{return this.$container.find(".collapsed").click(),JSON.parse(this.$container.text())}catch(e){throw new Error(e)}}},window.JsonEditor=n}(jQuery);
		</script>
	</head>
	<body>
		<!-- Navbar -->
		<nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-dark">
			<div class="container">
				<a href="#" class="navbar-brand">
					<svg id="logo" style="max-width: 20px;margin-top: -5px;margin-right: 5px; overflow: visible" data-name="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 290.82 480"><defs><style>.cls-1{fill:#fff;}</style></defs><title>mbc_whiteicon</title><path class="cls-1" d="M 261.94336,6.0292969 C 245.4928,18.267183 232.46666,34.743659 217.73828,49.058594 211.11846,63.418569 221.96376,85.900963 204.08789,94.601562 177.26669,113.49947 169.75894,64.719474 145.65234,79.371094 129.09611,93.4498 108.7441,107.20115 102.57812,129.25 c -3.874025,44.16945 -1.49794,88.68394 -2.32226,133 L 99.933594,389 c 14.244456,0.8648 25.913636,-9.76336 30.566406,-22.5 0.31443,-61.38095 0.48486,-122.76257 0.95508,-184.14258 0.0163,-22.68151 -2.29888,-48.38724 16.75195,-64.99609 16.63298,0.78782 36.04837,14.25815 55.53125,11.41797 1.66214,18.3075 13.52799,32.30479 26.9961,44.47656 12.367,6.75498 24.25378,37.05154 37.35351,26.20898 15.71212,-17.40392 34.97435,-32.20849 47.88086,-51.8125 -2.5514,-27.04677 23.34379,-17.07924 40.11914,-24.1289 17.92006,-18.81539 33.31177,5.97974 36.09961,23.79297 1.92907,68.72377 0.79933,137.52684 1.28906,206.28515 C 390.32421,371.27311 405.68409,390.10719 424,389 c -0.042,-69.1298 0.059,-138.25908 -0.11133,-207.38867 -1.65726,-24.74427 4.93846,-53.7514 -13.58203,-73.76367 C 397.0781,95.689783 385.09757,76.992313 365.27734,76.720703 353.57568,77.411659 352.01409,100.27001 335.66211,97.628906 308.84795,101.06246 307.67892,70.636321 307.60742,51.71875 293.55034,35.539104 279.10357,18.819566 261.94336,6.0292969 Z m 0.99414,46.9257811 c 5.51878,0.162448 10.99828,4.560842 13.12891,14.263672 -0.3282,15.342977 1.12336,30.55609 10.43359,41.41016 1.49694,15.85992 -1.4422,32.15552 -14.9668,42.39453 -11.08648,22.43823 -30.77895,-13.63358 -33.86914,-24.90235 -4.53412,-20.67951 16.06015,-33.339325 10.82032,-55.056637 0.19689,-11.524073 7.35754,-18.318237 14.45312,-18.109375 z m 108.30469,99.677732 c -8.98307,0.052 -25.00612,12.92404 -24.34571,21.67188 -1.73731,32.56239 -0.57941,65.23956 -0.89648,97.85351 -2.29196,13.48858 5.88034,27.54645 18.74023,32.41211 C 368.6865,305.95012 372.87758,306.0103 377,306 V 157.48242 c -0.55118,-3.45938 -2.76346,-4.86694 -5.75781,-4.84961 z m -221.04297,0.0488 c -1.05862,-0.0506 -2.12656,-0.0382 -3.19922,0.041 v 76.63867 74.25976 c 9.12746,8.62833 28.19488,-8.0815 31,-20.40625 v -98.82812 c 1.9206,-16.02025 -11.92152,-30.94636 -27.80078,-31.70508 z m 174.12695,47.40625 c -23.90092,3.10988 -30.1301,28.15241 -27.39844,48.4082 5.48795,23.18066 -31.2658,32.74943 -20.52343,55.38282 16.52817,10.56974 8.56391,22.50728 4.9375,37.55468 -4.95746,19.0132 8.0392,9.46267 18.31836,4.16993 22.96656,-7.10009 36.95468,20.40788 39.05468,39.39648 1.39241,1.26843 2.69819,-1.97474 3.66993,-2.02344 15.73347,-5.90572 6.86471,-38.55151 22.19531,-35.10937 10.62472,11.71065 12.0948,6.43253 10.02344,-6.58985 -0.0267,-25.93265 -26.48498,-35.54746 -48.21875,-31.1914 -24.6375,-13.09792 0.24058,-29.2159 1.02734,-48.06641 -0.96024,-19.89573 4.78926,-45.61434 -3.08594,-61.93164 z M 197.56641,200.707 c -3.214,18.25615 -0.70359,37.28763 -1.17579,55.89453 -1.82778,13.5536 5.73833,25.72858 13.57422,36.18164 -2.95306,24.20027 -32.77101,12.2543 -47.85742,22.67774 -11.98981,7.30806 -15.63729,32.47789 -11.93359,39.81836 21.41486,-25.05737 15.78995,15.80789 29.4375,26.01172 10.97037,11.30571 7.83175,-27.98899 22.34961,-31.20704 11.75802,-15.19826 32.73113,2.9304 40.61914,4.14063 5.54961,-17.06126 -16.65761,-35.77865 2.7793,-47.33594 16.4555,-24.6772 -26.24621,-35.97322 -18.24415,-61.79492 3.14723,-19.30446 -7.33656,-45.22676 -29.54882,-44.38672 z M 215,362.65039 c -2.99749,19.01851 -6.39288,37.97467 -9.70117,56.94141 -11.70453,24.15489 10.60702,40.67924 25.79297,55.74414 5.60882,5.71652 11.25161,11.39948 16.9707,17.00586 9.52529,15.87092 21.0232,10.65586 30.35742,-2.44336 14.13844,-16.05986 32.89662,-29.34354 43.56055,-47.8125 -2.60037,-21.02045 -7.12949,-41.7573 -10.37109,-62.6875 2.7974,-19.34595 -13.75801,-20.63372 -22.3379,-6.1836 -13.68684,17.91457 -1.44212,39.98894 0.15625,59.83204 l -22.04882,22.13281 c -5.33059,10.20033 -10.55836,0.94317 -15.80664,-4.2793 -16.30908,-10.69561 -19.16914,-27.37155 -12.43555,-44.9375 C 245.40152,388.3389 235.92471,362.4591 215,362.65039 Z" transform="translate(-79.618663,2.4623562)" /></svg>
					<b>API</b>
				</a>
				<button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarResponsive">
					<ul class="navbar-nav ml-auto">
						<li class="nav-item">
							<a href="https://github.com/MicroBitcoinOrg/ApiServer" class="nav-link" target="_blank">GitHub</a>
						</li>
					</ul>
				</div>
			</div>
		</nav>
	
		<div class="container">
			<div id="docs"></div>
		</div>
	
		<!-- Footer :3 -->
		<footer class="mb-3">
			<div class="container text-center">
				Made with <span class="entypo heart text-danger"></span> by <a target="_blank" href="https://github.com/MicroBitcoinOrg/ApiServer">Volbil</a>
			</div>
		</footer>

		<script>
			var uri = window.location.protocol + '//' + window.location.host
			var api = [
				{
					'name': '/info',
					'example': '/info',
					'description': 'This method return current info about Avian network.',
					'method': 'GET',
					'id': 'info'
				}
				, {
					'name': '/height/int:height',
					'example': '/height/1',
					'description': 'This method return block info by given height.',
					'base': '/height/',
					'method': 'GET',
					'id': 'height',
					'params': [
						{
							'title': 'height',
							'description': 'Block height',
							'example': 1,
							'key': true
						}, {
							'title': 'offset',
							'description': 'Offset of transactions list',
							'default': 0
						}
					]
				}, {
					'name': '/block/string:hash',
					'example': '/block/14c03ecf20edc9887fb98bf34b53809f063fc491e73f588961f764fac88ecbae',
					'description': 'This method return block info by given hash.',
					'base': '/block/',
					'method': 'GET',
					'id': 'block',
					'params': [
						{
							'title': 'hash',
							'description': 'Block hash',
							'example': '14c03ecf20edc9887fb98bf34b53809f063fc491e73f588961f764fac88ecbae',
							'key': true
						}, {
							'title': 'offset',
							'description': 'Offset of transactions list',
							'default': 0
						}
					]
				}, {
					'name': '/header/string:hash',
					'example': '/header/14c03ecf20edc9887fb98bf34b53809f063fc491e73f588961f764fac88ecbae',
					'description': 'This method return block header by given hash.',
					'base': '/header/',
					'method': 'GET',
					'id': 'header',
					'params': [
						{
							'title': 'hash',
							'description': 'Header hash',
							'example': '14c03ecf20edc9887fb98bf34b53809f063fc491e73f588961f764fac88ecbae',
							'key': true
						}
					]
				}, 
				{
					'name': '/range/int:height',
					'example': '/range/100?offset=3',
					'description': 'This method return range of blocks staring from certain height.',
					'base': '/range/',
					'method': 'GET',
					'id': 'range',
					'params': [
						{
							'title': 'height',
							'description': 'Height of range start',
							'example': 1,
							'key': true
						}, {
							'title': 'offset',
							'description': 'Number of blocks required',
							'example': 3,
							'default': 30
						}
					]
				}, 
				{
					'name': '/balance/string:address',
					'example': '/balance/BfSf3YKJ84P2vhSYLZkTCJvAmDtZs79XBH',
					'description': 'This method return address balance.',
					'base': '/balance/',
					'method': 'GET',
					'id': 'balance',
					'params': [
						{
							'title': 'address',
							'description': 'Request address',
							'example': 'BfSf3YKJ84P2vhSYLZkTCJvAmDtZs79XBH',
							'key': true
						}
					]
				}, {
					'name': '/mempool/string:address',
					'example': '/mempool/BfSf3YKJ84P2vhSYLZkTCJvAmDtZs79XBH',
					'description': 'This method return address mempool transactions.',
					'base': '/mempool/',
					'method': 'GET',
					'id': 'mempool',
					'params': [
						{
							'title': 'address',
							'description': 'Request address',
							'example': 'BfSf3YKJ84P2vhSYLZkTCJvAmDtZs79XBH',
							'key': true
						}
					]
				}, {
					'name': '/unspent/string:address',
					'example': '/unspent/BfSf3YKJ84P2vhSYLZkTCJvAmDtZs79XBH?amount=1',
					'description': 'This method return address unspent outputs.',
					'base': '/unspent/',
					'method': 'GET',
					'id': 'unspent',
					'params': [
						{
							'title': 'address',
							'description': 'Request address',
							'example': 'BfSf3YKJ84P2vhSYLZkTCJvAmDtZs79XBH',
							'key': true
						}, {
							'title': 'amount',
							'description': 'Required amount',
							'example': 1,
							'default': 0
						}
					]
				}, {
					'name': '/history/string:address',
					'example': '/history/BfSf3YKJ84P2vhSYLZkTCJvAmDtZs79XBH',
					'description': 'This method return list of address transaction hashes.',
					'base': '/history/',
					'method': 'GET',
					'id': 'history',
					'params': [
						{
							'title': 'address',
							'description': 'Request address',
							'example': 'BfSf3YKJ84P2vhSYLZkTCJvAmDtZs79XBH',
							'key': true
						}, {
							'title': 'offset',
							'description': 'Offset of transactions list',
							'example': 0,
							'default': 0
						}
					]
				}, {
					'name': '/transaction/string:hash',
					'example': '/transaction/957fc74933dcfc7da179bd53d01b2a7f8ffda4daa7a39b83656acf52ef772070',
					'description': 'This method return info about transaction.',
					'base': '/transaction/',
					'method': 'GET',
					'id': 'transaction',
					'params': [
						{
							'title': 'hash',
							'description': 'Transaction hash',
							'example': '957fc74933dcfc7da179bd53d01b2a7f8ffda4daa7a39b83656acf52ef772070',
							'key': true
						}
					]
				}, {
					'name': '/mempool',
					'example': '/mempool',
					'description': 'This method return info about mempool.',
					'method': 'GET',
					'id': 'mempool-info'
				}, 
				// {
				// 	'name': '/supply',
				// 	'example': '/supply',
				// 	'description': 'This method return info about current coins supply.',
				// 	'method': 'GET',
				// 	'id': 'supply'
				// }, 
				{
					'name': '/fee',
					'example': '/fee',
					'description': 'This method return recomended transaction fee.',
					'method': 'GET',
					'id': 'fee'
				}, {
					'name': '/decode/string:raw',
					'example': '/decode/010000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff200308b11f04422fff5d083ffffd7a000000000d2f6e6f64655374726174756d2f00000000020000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf900000000010000001976a914fcdf384938cdffa630ea4b2638dfca818ca54a1a88ac0120000000000000000000000000000000000000000000000000000000000000000000000000',
					'description': 'This method return decoded info about transaction.',
					'base': '/decode/',
					'method': 'GET',
					'id': 'decode',
					'params': [
						{
							'title': 'transaction',
							'description': 'Signed transaction',
							'example': '010000000001010000000000000000000000000000000000000000000000000000000000000000ffffffff200308b11f04422fff5d083ffffd7a000000000d2f6e6f64655374726174756d2f00000000020000000000000000266a24aa21a9ede2f61c3f71d1defd3fa999dfa36953755c690689799962b48bebd836974e8cf900000000010000001976a914fcdf384938cdffa630ea4b2638dfca818ca54a1a88ac0120000000000000000000000000000000000000000000000000000000000000000000000000',
							'key': true
						}
					]
				}, {
					'name': '/listassets',
					'example': '/listassets?verbose=false&count=10&start=0',
					'description': 'This method gets all assets on the Avian network.',
					'method': 'GET',
					'base': '/listassets/',
					'id': 'listassets',
					'params': [
						{
							'title': 'verbose',
							'description': 'verbose',
							'example': false,
							'default': false
						},
						{
							'title': 'count',
							'description': 'Truncates results to include only the first x found',
							'example': 10,
							'default': 10
						},
						{
							'title': 'start',
							'description': 'Results skip over the first x found, if negative it skips back from the end',
							'example': -10,
							'default': -10
						}
					]
				}, {
					'name': '/asset',
					'example': '/asset',
					'description': 'This method gets asset data.',
					'method': 'POST',
					'id': 'asset',
					'response': {
						'result': {},
						'error': null,
						'id': 'avn-api-server'
					},
					'params': [
						{
							'title': 'name',
							'description': 'Asset name'						
						}
					]
				}, {
					'name': '/ans',
					'example': '/ans',
					'description': 'This method gets ANS data for an asset',
					'method': 'POST',
					'id': 'ans',
					'response': {
						'result': {},
						'error': null,
						'id': 'avn-api-server'
					},
					'params': [
						{
							'title': 'name',
							'description': 'Asset name'						
						}
					]
				}, {
					'name': '/broadcast',
					'example': '/broadcast',
					'description': 'This method broadcast raw signed transaction to Avian network.',
					'method': 'POST',
					'id': 'broadcast',
					'response': {
						'result': '8d0f52a1177c7a954cf4f952532c49c8d55f9437539b544d92f83c14e1929950',
						'error': null,
						'id': 'avn-api-server'
					},
					'params': [
						{
							'title': 'raw',
							'description': 'Signed raw transaction'
						}
					]
				}
			]

			for (var i = 0; i < api.length; i++) {
				var options = ''
				if (api[i].params != undefined) {
					var params = api[i].params
					for (var j = 0; j < params.length; j++) {
						options += `
							<div class="example-input input-group mt-3">
								<div class="input-group-prepend">
									<span class="input-group-text">
										${params[j].title}
									</span>
								</div>
								<input type="text" data-example="${params[j].example != undefined ? params[j].example : ''}" data-name="${params[j].title}" data-key="${params[j].key != undefined ? params[j].key : 'false'}" class="form-control docs-input" placeholder="${params[j].description} ${params[j].default != undefined ? `(default: ${params[j].default})` : ''}">
							</div>`
					}
				}

				var content = `
					<div class="card mb-3 api-doc-block" data-example-base="${uri}${api[i].base}" data-request-method="${api[i].method}">
						<div class="card-header">
							<span>
								<span class="mr-1 badge badge-success">${api[i].method}</span>
							</span>
							<b>${api[i].name}</b>
							<div class="float-right">
								<button style="padding: 0rem .5rem;" class="btn btn-primary btn-sm" onclick="docs('${api[i].id}', '${api[i].method}')">
									Run <span class="entypo right"></span>
								</button>
							</div>
						</div>
						<div class="card-body">
							<div class="row">
								<div class="col-12">
									<div class="mb-3">
										${api[i].description}
									</div>
									<div id="${api[i].id}">
										<div class="card">
											<div class="card-header" style="padding: .5rem 1.25rem;">
												<a id="${api[i].id}-link" href="${uri}${api[i].example}" class="doc-link" target="_blank">
													${uri}${api[i].example}
												</a>
											</div>
											<pre class="json-display d-none"></pre>
											<span class="loading">
												<div class="text-center">
													<div class="spinner-border" role="status" style="margin: 20px;">
														<span class="sr-only">Loading...</span>
													</div>
												</div>
											</span>
										</div>
										${options}
									</div>
								</div>
							</div>
						</div>
					</div>`

				$('#docs').append(content)
				if (api[i].response == undefined) {
					docs(api[i].id)
				} else {
					display(api[i].id, api[i].response)
				}
			}

			function request(url, method, data) {
				return Promise.resolve($.ajax({
					'method': method,
					'url': url,
					'data': data
				})).then(function(data) {
					return data
				})
			}

			function docs(tag, method = 'GET') {
				$(`#${tag} pre`).addClass('d-none')
				$(`#${tag} span.loading`).removeClass('d-none')

				var link = $(`#${tag}-link`).attr('href')
				var params = {}

				if (method == 'POST') { params = inputs($(`#${tag}`))[1] }

				request(link, method, params).then(function(data) {
					display(tag, data)
				})
			}

			function display(tag, data) {
				new JsonEditor(`#${tag} pre`, data)
				$(`#${tag} pre`).removeClass('d-none')
				$(`#${tag} span.loading`).addClass('d-none')
			}

			function inputs(docs) {
				var params = {}
				var base = docs.attr('data-example-base')

				docs.find('.example-input').each(function() {
					var input = $(this).find('input')
					var name = input.attr('data-name')
					var example = input.attr('data-example')
					var key = JSON.parse(input.attr('data-key'))

					var data = input.val() != '' ? input.val() : example

					if (key) {
						base += data
					} else {
						if (data != '') { params[name] = data }
					}
				})

				return [base, params]
			}

			$('.docs-input').on('keyup', function() {
				var docs = $(this).closest('.api-doc-block')
				var method = docs.attr('data-request-method')

				if (method == 'GET') {
					var link = docs.find('.doc-link')

					var data = inputs(docs)
					var base = data[0]
					var params = data[1]

					if (Object.keys(params).length > 0) { base += '?' }
					base += $.param(params)
					link.attr('href', base)
					link.text(base)
				}
			})
		</script>
	</body>
</html>